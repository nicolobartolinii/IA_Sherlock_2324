<!DOCTYPE html>
<html lang="it">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
	<title>Sherlock - Elenco Fonti </title>
	<link rel="icon" href="https://www.seekpng.com/png/detail/527-5275313_app-icon-detective-conan-avatar.png" type = "image/x-icon">
	<link href="{{ url_for('static',filename='css/styles.css')}}" rel="stylesheet" />
	<script src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" crossorigin="anonymous"></script>
			<!-- Google fonts-->
			<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>
</head>
	<nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
		<div>
			<a class="navbar-brand" href="#page-top">Sherlock</a>
		</div>
		<div class="collapse navbar-collapse" id="navbarDropdown">
			<ul class="navbar-nav ml-auto">
			  <li class="nav-item">
				<p><a class="nav-link" href="informazioni_fornite">Informazioni fornite </a></p>
			  </li>
			  <li class="nav-item">
				<p><a class="nav-link" href="gestisci_info">Gestisci informazioni</a></p>
			  </li>
			  <li class="nav-item">
				<a class="nav-link" href="fonti1">Visualizza fonte</a>
			  </li>
			  <li class="nav-item">
				<a class="nav-link" href="seleziona_caso">Cambia caso</a>
			  </li>
			  <li class="nav-item dropdown">
				<a class="nav-link dropdown-toggle" href="" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				  Calcola Universi
				</a>
				<div class="dropdown-menu" aria-labelledby="navbarDropdown">
				  <a class="dropdown-item" href="goods_BO">Best Out</a>
				  <a class="dropdown-item" href="goods_DS">Dempster-Shafter</a>
				  <a class="dropdown-item" href="goods_media">Media</a>
				</div>
			  </li>
				<li class="nav-item">
					<a class="font-weight-bold bg-primary text-white rounded btn btn-lg btn-success" role="button" href="logout">
						Logout
					</a>
				</li>
			</ul>
		</div>
	</nav>
	<body id="page-top" style="background-color:#edffea">
		<header class="masthead text-center">
          	<div class="container d-flex align-items-center flex-column">
				<h1><b>FONTI</b></h1>
			</div>
		</header>
		<center>
			<h3>
				<div id="id_fonti">

				</div>
			</h3>
			<p>
				<form action = "/info_fonte" method = "post" id = "form2">
					<label for = "fname">Inserisci una fonte per vedere le sue informazioni:</label>
					<select id="nomiFonti" name="info_fonte"></select>
					<input type="submit" value="Cerca"/>
				</form>
			</p>
			{% if view == True %}
				<header class="masthead text-center">
					<div class="container d-flex align-items-center flex-column">
						<h3><b>INFORMAZIONI FORNITE DALLA FONTE : {{fonte_scelta}}</b></h3>
					</div>
				</header>
				<h5>
					<div id="fonte_desiderata"></div>
				</h5>
				<br>
				<script>
					var pippo =  '{{fonte_scelta}}';
					var fonte = {
						'idfonte': pippo
						};

					fetch('/info_fontejs', {

						// Specify the method
						method: 'POST',

						// A JSON payload
						body: JSON.stringify({
							"idfonte": pippo
						})
					}).then(res => res.json()).then(data => mostra(data));

					function mostra(data){
					  var txt ="";
					  txt+="<table  border=”1″ width=70%><tr bgcolor=”#ad93ab″ > <td > Informazione  </td> <td width=25%> Credibilità </td> </tr> "
								for (x in data) {
									txt +="<tr> <td>" + x + " </td> <td> " + data[x] +" </td> </tr> " ;
								}

								txt += " </table> </h1>";
					document.getElementById("fonte_desiderata").innerHTML = txt;
					}
				</script>
			{% endif %}
		</center>
		<script src="static\scripts\fonti.js"></script>
    </body>
	<footer class="bg-secondary footer mt-auto py-5">
		<h5>2021</h2>
	</footer>
</html>
